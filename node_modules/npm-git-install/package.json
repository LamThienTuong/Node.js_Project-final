{
  "_from": "npm-git-install",
  "_id": "npm-git-install@0.3.0",
  "_inBundle": false,
  "_integrity": "sha1-OPQ29hM5xJVg6rWZ0MwaOEmYtUw=",
  "_location": "/npm-git-install",
  "_phantomChildren": {},
  "_requested": {
    "escapedName": "npm-git-install",
    "fetchSpec": "latest",
    "name": "npm-git-install",
    "raw": "npm-git-install",
    "rawSpec": "",
    "registry": true,
    "saveSpec": null,
    "type": "tag"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/npm-git-install/-/npm-git-install-0.3.0.tgz",
  "_shasum": "38f436f61339c49560eab599d0cc1a384998b54c",
  "_spec": "npm-git-install",
  "_where": "E:\\Git\\Node.js_Project-final",
  "author": {
    "name": "Tadeusz ≈Åazurski",
    "url": "http://lazurski.pl/"
  },
  "bin": {
    "npm-git": "build/cli.js"
  },
  "bugs": {
    "url": "https://github.com/lzrski/npm-git-install/issues"
  },
  "bundleDependencies": false,
  "dependencies": {
    "commander": "^2.9.0",
    "cross-spawn": "^5.0.1",
    "temp": "^0.8.3"
  },
  "deprecated": false,
  "description": "Clones and (re)installs packages from remote git repos",
  "devDependencies": {
    "coffee-script": "^1.10.0"
  },
  "homepage": "https://github.com/lzrski/npm-git-install#readme",
  "keywords": [
    "clone",
    "directory",
    "git",
    "install",
    "local",
    "npm",
    "packages",
    "prepublish",
    "temporary"
  ],
  "license": "ISC",
  "main": "build/index.js",
  "name": "npm-git-install",
  "optionalDependencies": {},
  "readme": "NPM Git Install\n===============\n\nClones and (re)installs packages from remote git repos. It is meant as a temporary solution until [npm/npm#3055][3055] is resolved.\n\nInstall\n-------\n\n```sh\nnpm install --save npm-git-install\n```\n\nUse\n---\n\nIn your `pacakge.json` add:\n\n```javascript\n{\n  \"scripts\": {\n    \"install\": \"npm-git install\"\n  }\n  \"gitDependencies\": {\n    \"private-package-name\": \"git@private.git.server:user/repo.git#revision\",\n    \"public-package-name\": \"https://github.com/user/repo.git#revision\"\n  }\n}\n```\n\nObviously replace `*-package-name` and git URLs with values relevant to your project. URLs has to be in canonical form (i.e. one that you would provide to `git clone` on command line) - no fancy NPM shortcuts like ~~`user/repo`~~ or ~~`bitbucket:user/repo`~~. If you want this, we are open for a PRs.\n\nThen install your dependencies as usual:\n\n```sh\nnpm install\n```\n\nIf you want to lock versions of git dependencies, use:\n\n```sh\n./node_modules/.bin/npm-git install --save\n```\n\nThis will reinstall all git dependencies, but also write last matching commit's sha to `package.json`, effectively locking the versions.\n\nYou can also add a dependency and lock it's sha in one go:\n\n```sh\n./node_modules/.bin/npm-git install --save me@my.git.server:me/my-awesome-thing.git\n```\n\nThis is probably the safest option, as it guarantees the same revision to be installed every time.\n\nNow it should be easy to deploy, as long as the git executable is available in the environment.\n\nWhy\n---\n\nIMO there is a serious defect in current versions of NPM regarding installation process of dependencies from git repositories. It basically prevents us from installing anything that needs a build step directly from git repos. Because of that some authors are keeping build artifacts in the repos, which I would consider a hurdle at best. Here is [relevant issue with ongoing discussion][3055].\n\n### TL/DR:\n\nIf you `npm install ../some-local-directory/my-package` then npm will run `prepublish` script of the `my-package` and then install it in current project. This is fine.\n\nOne would expect that running `npm install git@remote-git-server:me/my-package.git` would also run `prepublish` before installing. Unfortunately it won't. Further more, it will apply `.npmignore`, which will most likely remove all your source files and make it hard to recover. Boo...\n\nHow\n---\n\n### From command line\n\n```sh\nnpm-git install\n```\n\nThis simple script will do the following for every `<url>` of `gitDependencies` section of `package.json`:\n\n1.  Clone the repo it into temporary directory\n\n    using `git clone <url>`.\n\n1.  Run `npm install` in this directory\n\n    which will trigger `prepublish` hook of the package being installed.\n\n1.  then run `npm install <temporary directory>` in your project path.\n\nIn effect you will get your dependency properly installed.\n\nYou can optionally specify different paths for `package.json`:\n\n```sh\nnpm-git install -c git-dependencies.json\n```\n\nYou may want to do this if you find it offensive to put non-standard section in your `package.json`.\n\nAlso try `--help` for more options.\n\nJust like with plain NPM, on the command line you can specify a space separated list of packages to be installed:\n\n```sh\nnpm-git install https://github.com/someone/awesome.git me@git.server.com/me/is-also-awesome.git#experimantal-branch\n```\n\nAfter hash you can specify a branch name, tag or a specific commit's sha. By default `master` branch is used.\n\nWith `--save` option it will write the sha of tha HEAD (i.e. last matching commit) to the package.json, effectively locking the version of the dependency.\n\n### API\n\nYou can also use it programmatically. Just require `npm-git-install`. It exposes four methods:\n\n  * `discover (path)`\n\n    Reads list of packages from file at given path (e.g. a package.json) and returns array of `{url, revision}` objects. You can supply this to `reinstall_all` method.\n\n  * `reinstall_all (options, packages)`\n\n    Executes `reinstall` in series for each package in `packages`. Options are also passed to each `reinstall` call.\n\n    This function is curried, so if you provide just `options` argument you will get a new function that takes only one argument - `packages` array.\n\n    Options are the same as for `reinstall`.\n\n    Returns a `Promise` that resolves to `report`, i.e. an array of `metadata` objects that you can pass to `save`. See below.\n\n  * `reinstall (options, package)`\n\n    Most of the heavy lifting happens here:\n\n    1.  Clones the repo at `package.url`,\n\n    1.  Checks out `package.revision`\n\n    1.  runs `npm install` at cloned repos directory\n\n    1.  installs the package from there.\n\n    Options are:\n\n    * `silent`: Suppress child processes standard output. Boolean. Default is `false`.\n    * `verbose`: Print debug messages. Boolean. Default is `false`.\n\n    Returns a `Promise` that will resolve to a `metadata` object:\n\n    ```coffee-script\n    {\n      name: \"my-awesome-thing\"\n      sha: \"ef88c40\"\n      url: \"me@git.server.com/me/my-awesome-thing.git\"\n    }\n    ```\n\n    You probably don't want to use it directly. Just call `reinstall_all` with relevant options.\n\n  * `save (file, report)`\n\n    Takes a path to a package.json and an array of `metadata` (e.g. a `report` promised by `reinstall_all`). Updates the contents of the package.json file according to the report.\n\n    Returns `undefined`.\n\nIf you are a [Gulp][] user, then it should be easy enough to integrate it with your gulpfile. See [./src/cli.coffee][] for example use of the API.\n\n### Why not use `dependencies` and `devDependencies`\n\nI tried and it's hard, because NPM supports [fancy things as Git URLs][URLs]. See `messy-auto-discovery` branch. You are welcome to take it from where I left.\n\nThere is also another reason. User may not want to reinstall all Git dependencies this way. For example I use gulp version 4, which is only available from GitHub and it is perfectly fine to install it with standard NPM. I don't want to rebuild it on my machine every time I install it. Now I can leave it in `devDependencies` and only use `npm-git-install` for stuff that needs it.\n\n[URLs]: https://docs.npmjs.com/files/package.json#git-urls-as-dependencies\n[3055]: https://github.com/npm/npm/issues/3055\n[Gulp]: http://gulpjs.com/\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/lzrski/npm-git-install.git"
  },
  "scripts": {
    "develop": "coffee --watch --no-header -cbmo build src",
    "prepublish": "coffee --no-header -cbmo build src",
    "test": "echo test"
  },
  "version": "0.3.0"
}
